<!doctype html>

<head>
    <style>
        html {
            background-color: black;
        }

        canvas {
            display: block;
            margin: 10vh auto;
            z-index: 1;
            /*        background-color: black;*/
        }

    </style>

</head>
<body>
    <canvas id="gameCanvas" width="500" height="400"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainloop, 1000 / speeded);

        } // end func
        
        
        var difficulty = '';
        var username = '';
        var pass = false;
        var speeded = 10;


        var gamerun = true;
        var settingUp = true;


        function mainloop() {
            if (settingUp) {
                mapData();
                settingUp = false;
                //                playerMoveRedraw()
            }
            playerMove();
            findplayer();
            renderBlockMap();
            renderBlockMapPics();
            // end();

        } //end function

        // keybinds
        var leftKeyPress = false; 
        var rightKeyPress = false;
        var upKeyPress = false;
        var downKeyPress = false;


        const LEFT_KEY = 37; // left key
        const RIGHT_KEY = 39; // right key
        const UP_KEY = 38; // up key
        const DOWN_KEY = 40; // down key

        var gridCols = 20; // map width
        var gridRows = 20; // map hiegth

        var lvl = 0;
var arraymap0 = [ // dungeon map
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 1, 
    1, 0, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 7, 0, 1, 
    1, 0, 0, 0, 7, 7, 7, 8, 8, 8, 8, 8, 7, 7, 7, 7, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7, 7, 7, 7, 7, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 11, 1, 
    1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 6, 0, 1, 
    1, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 1, 
    1, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 6, 6, 6, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 5, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 5, 5, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 3, 0, 0, 0, 0, 0, 5, 5, 1, 
    1, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 5, 5, 5, 5, 5, 1, 
    1, 4, 4, 5, 5, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap1 = [ // dungeon map1
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 4, 5, 5, 0, 0, 2, 0, 0, 0, 0, 0, 0, 7, 7, 8, 8, 8, 8, 1, 
    1, 4, 4, 5, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 8, 1, 
    1, 4, 4, 5, 5, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 1, 
    1, 4, 5, 5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 5, 5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 5, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 6, 3, 11, 1, 
    1, 4, 5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 1, 
    1, 4, 4, 5, 0, 0, 6, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 1, 
    1, 4, 4, 5, 0, 0, 6, 6, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 5, 0, 0, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 4, 4, 5, 5, 0, 0, 0, 5, 0, 5, 5, 0, 0, 5, 5, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap2 = [ // dungeon map2
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 4, 4, 4, 5, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 8, 1, 
    1, 4, 4, 4, 5, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 6, 6, 0, 0, 0, 0, 16, 16, 16, 0, 0, 8, 8, 1, 
    1, 4, 5, 5, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 5, 5, 0, 0, 6, 0, 0, 16, 16, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 5, 5, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 6, 6, 6, 6, 0, 0, 16, 16, 0, 8, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 5, 5, 5, 0, 16, 16, 16, 0, 0, 0, 6, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 4, 5, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 0, 0, 6, 6, 6, 6, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 0, 0, 3, 6, 0, 0, 0, 16, 16, 0, 0, 0, 0, 0, 8, 1, 
    1, 4, 5, 5, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap3 = [ // dungeon map3
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 4, 4, 4, 5, 5, 5, 1, 
    1, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 1, 
    1, 4, 4, 4, 4, 4, 5, 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0, 1, 
    1, 4, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 5, 5, 0, 0, 6, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 4, 4, 5, 5, 0, 6, 6, 0, 0, 0, 6, 6, 6, 6, 0, 0, 0, 1, 
    1, 4, 4, 5, 5, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 1, 
    1, 4, 4, 5, 5, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 2, 1, 
    1, 4, 5, 5, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 5, 5, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 4, 5, 5, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 1, 
    1, 4, 4, 5, 5, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 5, 5, 5, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 8, 8, 8, 1, 
    1, 4, 4, 4, 5, 5, 0, 0, 0, 0, 0, 11, 0, 0, 0, 8, 8, 8, 8, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap4 = [ // dungeon map4
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 1, 
    1, 0, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 1, 
    1, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 11, 3, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 2, 1, 
    1, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 1, 
    1, 0, 0, 0, 0, 6, 6, 6, 6, 0, 0, 6, 6, 6, 6, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 0, 0, 0, 7, 7, 7, 7, 12, 7, 0, 0, 0, 0, 0, 0, 0, 1, 
    1, 0, 0, 7, 7, 7, 7, 7, 8, 8, 14, 7, 7, 7, 7, 7, 0, 0, 0, 1, 
    1, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 7, 7, 7, 1, 
    1, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap5 = [ // dungeon map5
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 5, 4, 4, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 0, 0, 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 5, 5, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 6, 6, 6, 6, 0, 6, 6, 6, 0, 0, 5, 5, 5, 4, 4, 1, 
    1, 11, 3, 6, 6, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 5, 5, 5, 4, 4, 1, 
    1, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 6, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 8, 8, 8, 8, 8, 8, 8, 0, 0, 0, 6, 0, 0, 0, 0, 5, 5, 4, 1, 
    1, 8, 8, 8, 8, 8, 8, 8, 8, 0, 0, 6, 0, 0, 0, 5, 5, 5, 4, 1, 
    1, 8, 8, 8, 8, 8, 8, 8, 8, 8, 0, 2, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap6 = [ // dungeon map6
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 8, 7, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 5, 5, 5, 4, 4, 1, 
    1, 8, 7, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 8, 7, 7, 0, 0, 16, 16, 16, 0, 0, 6, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 8, 7, 7, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 8, 8, 7, 0, 0, 0, 0, 6, 6, 6, 0, 0, 5, 5, 5, 4, 4, 4, 1,
    1, 8, 8, 7, 0, 0, 6, 6, 6, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 4, 8, 7, 0, 6, 6, 0, 0, 0, 16, 16, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 4, 8, 7, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 5, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 0, 6, 0, 0, 0, 0, 4, 4, 4, 4, 5, 5, 4, 4, 4, 1,  
    1, 4, 7, 4, 4, 6, 6, 4, 4, 4, 4, 0, 0, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 7, 0, 4, 4, 6, 4, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 8, 7, 0, 0, 0, 6, 0, 0, 16, 16, 16, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 8, 7, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 5, 5, 5, 4, 4, 1, 
    1, 8, 7, 7, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 8, 8, 7, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 5, 5, 5, 4, 4, 1, 
    1, 8, 8, 7, 0, 16, 16, 16, 0, 0, 6, 0, 0, 0, 5, 5, 4, 4, 4, 1,  
    1, 8, 7, 7, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];
var arraymap7 = [ // dungeon map7
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1,
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 4, 4, 4, 4, 1,  
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 0, 5, 5, 4, 4, 4, 4, 4, 1, 
    1, 0, 0, 5, 5, 0, 0, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 1, 
    1, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1,  
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];

var arraymap7l5 = [ // dungeon map8
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 1,
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 4, 4, 4, 4, 1,  
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 4, 4, 4, 4, 1, 
    1, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 0, 5, 5, 4, 4, 4, 4, 4, 1, 
    1, 0, 0, 5, 5, 0, 0, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 1, 
    1, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 1, 
    1, 5, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1,  
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
];



var arraymap8 = [ // dungeon map9 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,  
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,  
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
];

var arraymap9 = [ // dungeon map 10
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
    1, 13, 0, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,  
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1,  
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1, 
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
];





var allMaps = [arraymap0, arraymap1, arraymap2, arraymap3, arraymap4, arraymap5, arraymap6, arraymap7, arraymap7l5, arraymap8, arraymap9] 

var currentMap = [...allMaps[lvl]];
allMaps[0] = arraymap0;
        function mapData() {
            var gridRowCount = 0;

            currentMap.forEach(function(block, i, array) {
                var size = 20;
                var image;
                
                var xPos = i % gridCols * size;
                var yPos = gridRowCount * size;

                if (i % gridCols == 0 && i != 0) { // row end
                    gridRowCount++;
                }
                var value = 0; // floor value
                var color = '';
                var playerPos = 3; //player
                if (block == 0) {
                    value = 0;
                    var grass = new Image();
                    grass.src="grass.jpeg";
                    
                    image = grass;
                    
                    //color = "green"// floor
                } else if (block == 1) {
                    value = 1;
                    //color = 'grey';
                    
                    var border = new Image();
                    border.src="border.JPEG";
                    
                    image = border;
                } else if (block == 2) { // mape change
                    value = 2;
                    //color = 'green';
                    var thing2 = new Image();
                    thing2.src="path.jpg";
                    
                    image = thing2;
                } else if (block == 3) { // player
                    value = 3;
                    //color = 'blue';
                    var player = new Image();
                    player.src="player.jpeg";
                    
                    image = player;
                } else if (block == 4) { // sea
                    value = 4;
                    //color = 'lightblue';
                    
                    var thing4 = new Image();
                    thing4.src="sea.jpg";
                    
                    image = thing4;
                } else if (block == 5) { // sand
                    value = 5;
                   // color = 'lightYellow';
                    
                    var thing5 = new Image();
                    thing5.src="sand.jpg";
                    
                    image = thing5;
                } else if (block == 6) { // path
                    value = 6;
                   // color = 'Yellow';
                    
                    var thing6 = new Image();
                    thing6.src="path.jpg";
                    
                    image = thing6;
                } else if (block == 7) { // mountain
                    value = 7;
                   // color = 'Brown';
                    var thing7 = new Image();
                    thing7.src="grass.jpeg";
                    
                    image = thing7;
                }else if (block == 8) { // mountain
                    value = 8;
                   // color = 'black';
                    var thing8 = new Image();
                    thing8.src="mount.jpeg";
                    
                    image = thing8;
                } else if (block == 9) { // to next lvl
                    value = 9;
                   // color = 'green';
                    var thing9 = new Image();
                    thing9.src="path.jpeg";
                    
                    image = thing9;
                }else if (block == 10) { // back to 9
                    value = 10;
                   // color = 'red';
                    var thing10 = new Image();
                    thing10.src="grass.jpeg";
                    
                    image = thing10;
                }else if (block == 11) { // back lvl
                    value = 11;
                   // color = 'purple';
                    
                    var thing11 = new Image();
                    thing11.src="path.jpg";
                    
                    image = thing11;
                }else if (block == 12) { // door
                    value = 12;
                  //  color = 'grey';
                    var thing12 = new Image();
                    thing12.src="grass.jpeg";
                    
                    image = thing12;
                }else if (block == 13) { // dungen floor
                    value = 13;
                   // color = 'lightBrown';
                    var thing13 = new Image();
                    thing13.src="grass.jpeg";
                    
                    image = thing13;
                }else if (block == 14) { // to dungen
                    value = 14;
                  //  color = 'lightBrown';
                    var thing14 = new Image();
                    thing14.src="grass.jpeg";
                    
                    image = thing14;
                }else if (block == 15) { // key
                    value = 15;
                   // color = "green"
                    var thing15 = new Image();
                    thing15.src="grass.jpeg";
                }else if (block == 16) { // key
                    value = 16;
                   // color = "green"
                    var thing16 = new Image();
                    thing16.src="bush.jpg";

                    image = thing16;
                }



                var block = {
                    img: image,
                    xPos: xPos,
                    yPos: yPos,
                    size: size,
                    value: value
                }

                currentMap.splice(i, 1, block);
            });

        } // end func

        var playerLoc = 0; // play location

        function findplayer() {

            currentMap.forEach(function(square, i, array) {
                if (square.value == 3) {
                    playerLoc = i;
                }
            });
        } // end func
        function reverselevel(){
            console.log(lvl)
            
            if(lvl > 0  && lvl != 8){
                lvl--;
            } 
            else if(lvl == 8){
                lvl = 0;
            }
            else {
                lvl = 8;
            }
            console.log(lvl)

            currentMap.forEach(function(block, i, array) {
                delete currentMap[i];
            });
            currentMap = currentMap.filter(item => item !== undefined);

            currentMap = [...allMaps[lvl]];
            settingUp = true; // redraw map 
        
        } // end func

        function lvl7(){
            console.log('im here');
            currentMap.forEach(function(block, i, array) {
                delete currentMap[i];
            });
            currentMap = currentMap.filter(item => item !== undefined);

            currentMap = [arraymap7l5];
            settingUp = true; // redraw map 

        }

        function newLevel() { // new lvl redraw
            lvl++;
            currentMap.forEach(function(block, i, array) {
                delete currentMap[i];
            });
            currentMap = currentMap.filter(item => item !== undefined);

            currentMap = [...allMaps[lvl]];
            settingUp = true; // redraw map 
            // if (lvl == 2) {
            //     arraymap0.forEach(function(block, i, array) {
            //         delete arraymap0[i]
            //     });

            //     arraymap0= arraymap.filter(item => item !== undefined);
            //     arraymap0= arraymap3;
            //     settingUp = true; // redraw map 2

            // }

            // if (lvl == 3) {
            //     arraymap0.forEach(function(block, i, array) {
            //         delete arraymap0[i]
            //     });

            //     arraymap0= arraymap.filter(item => item !== undefined);
            //     arraymap0= arraymap4;
            //     settingUp = true; // redraw mpa 3


            // }

        } // end func 
        
        var mapImageData = []
        for(var i = 0; i < 2;i++){
            var size = 20;
            if(i==0){
                var image = new Image();
                image.src="player.jpeg";
                var value = 3;
            }
            if(i==1){
                var image = new Image();
                image.src="path.jpg";
                var value = 6;
            }
            var data = {
                    image: image,
                    size: size,
                    value: value
                }
            mapImageData.push(data);
        }

        

        

        function keyPressed(evt) {
            if (evt.keyCode == RIGHT_KEY) {
                rightKeyPress = true;
            }
            if (evt.keyCode == LEFT_KEY) {
                leftKeyPress = true;
            }
            if (evt.keyCode == UP_KEY) {
                upKeyPress = true;
            }
            if (evt.keyCode == DOWN_KEY) {
                downKeyPress = true;
            }
        } // end func



        function keyReleased(evt) {
            if (evt.keyCode == RIGHT_KEY) {
                rightKeyPress = false;
            }
            if (evt.keyCode == LEFT_KEY) {
                leftKeyPress = false;
            }
            if (evt.keyCode == UP_KEY) {
                upKeyPress = false;
            }
            if (evt.keyCode == DOWN_KEY) {
                downKeyPress = false;
            }
        } // end func




        function makeblock() {
            var blockXpos = 0;
        } // end func 


        var nextBlock = 0;



        function playerMoveRedraw() {
            if (currentMap[nextBlock].value == 6) {
                
                
                // moving and drawing player update    
                currentMap[nextBlock].value = mapImageData[0].value;
                currentMap[nextBlock].img = mapImageData[0].image;
                
                // replacing the block the player was on 
                currentMap[playerLoc].value = mapImageData[1].value;
                currentMap[playerLoc].img = mapImageData[1].image;
                
                playerLoc = nextBlock;
                // currentMap[playerLoc].value = 6;
        
                // currentMap[playerLoc].color = 'Yellow'
            }
            if (currentMap[nextBlock].value == 2) {

                newLevel();
            }if (currentMap[nextBlock].value == 11){
                reverselevel();
            }

            if (currentMap[nextBlock].value == 10){
                lvl7();
            }

            if (currentMap[nextBlock].value == 4) {
                currentMap[playerLoc].value = 0;
               // currentMap[playerLoc].color = 'black'
                deathcount++;

                playerLoc = 31;
                currentMap[playerLoc].value = 2;
            //    currentMap[playerLoc].color = 'blue'
            }
        } // end func


        function playerMove() {
            if (leftKeyPress) {
                findplayer();
                nextBlock = playerLoc - 1;
                playerMoveRedraw();

            }
            if (rightKeyPress) {
                findplayer();
                nextBlock = playerLoc + 1;
                playerMoveRedraw();

            }
            if (upKeyPress) {
                findplayer();
                nextBlock = playerLoc - gridCols;
                playerMoveRedraw();

            }
            if (downKeyPress) {
                findplayer();
                nextBlock = playerLoc + gridCols;
                playerMoveRedraw();

            }
        } // end func

        function renderBlockMap() {
            currentMap.forEach(function(block, i, array) {
                colorRect(block.xPos, block.yPos, block.size, block.size, block.color);
            });

        } // end render func
        
        function renderBlockMapPics(){
            currentMap.forEach(function(block, i, array) {
                drawPics(block.img , block.xPos, block.yPos, block.size, block.size);
            });
        }

        function colorRect(x, y, w, h, c) {
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x, y, w, h);
        } // end colorRect func

        function drawPics(src,x,y,w,h){
            canvasContext.drawImage(src,x,y,w,h);
        }
        
        function drawText(msg, x, y, f, c) {
            canvasContext.fillStyle = c;
            canvasContext.font = f; //"20px Arial"`
            canvasContext.fillText(msg, x, y)
        } // end drawText func
    </script>
</body>
<!--
    relevant implications 
    functionality = considering the end user and the game runs smoothly and easily

    Aesthetics = visual design enables user to engage in the game and clear the role of the sprites through designs / colors.

-->